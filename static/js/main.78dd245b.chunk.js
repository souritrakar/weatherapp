(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a.n(s),r=a(4),o=a.n(r),c=(a(15),a(3)),h=a.n(c),l=a(5),d=a(6),u=a(7),j=a(9),p=a(8),f=(a(17),a.p+"static/media/finallogo.f7301e5f.png");function b(e){return Object(n.jsxs)("div",{className:"weathercard",children:[Object(n.jsxs)("h3",{children:[" Temperature : ",e.temp,"\xb0C "]}),Object(n.jsxs)("h3",{children:["Condition : ",e.condition]}),Object(n.jsxs)("h3",{children:[" Humidity : ",e.humidity," "]}),Object(n.jsxs)("h3",{children:["Feels Like: ",e.feelslike," \xb0C"]}),Object(n.jsxs)("h3",{children:["Wind Speed : ",e.windspeed]}),Object(n.jsxs)("h3",{children:["Clouds : ",e.clouds]})]})}var m=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).apiCallforWeather=function(t){return fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid=d7977aee4febe67766e9ef79abf45f2a").then((function(e){if(200==e.status)return e.json();alert("There was an error. Put the correct city name and try again")})).then((function(t){if(!t)return null;console.log(t);var a=[];a.push(t),e.setState({hasLoadedWeatherInfo:!0}),e.setState({weatherFetchingData:a}),e.setState({temp:Math.floor(t.main.temp-273.15)}),e.setState({humidity:t.main.humidity}),e.setState({feelslike:t.main.feels_like}),e.setState({windspeed:t.wind.speed}),e.setState({clouds:t.clouds.all}),e.setState({condition:t.weather[0].main}),alert("Loaded details \u2b07")})).catch((function(e){console.log(e)}))},e.state={lat:"",long:"",cityName:"",userCity:"",userCountry:"",userState:"",hasLoadedCoords:!1,hasloadedData:!1,localWeatherdata:[],hasPressedButton:!1,hasLoadedWeatherInfo:!1,weatherFetchingData:[],temp:"",feelslike:"",humidity:"",clouds:"",windspeed:"",condition:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.addEventListener("contextmenu",(function(e){return e.preventDefault()})),alert("You have to give your location access in order to see local weather info"),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){t.setState({lat:e.coords.latitude}),t.setState({long:e.coords.longitude}),t.setState({hasLoadedCoords:!0})})):alert("Error in receiving location access"),e.next=5,fetch("http://ip-api.com/json").then((function(e){if(200===e.status)return e.json();alert("Cannot find Location")})).then((function(e){t.setState({userCity:e.city}),t.setState({userCountry:e.country}),t.setState({userState:e.regionName}),t.setState({hasloadedData:!0})}));case 5:return e.next=7,fetch("https://api.openweathermap.org/data/2.5/weather?q="+this.state.userCity.toLowerCase()+"&appid=d7977aee4febe67766e9ef79abf45f2a").then((function(e){if(200===e.status)return e.json();alert("Error")})).then((function(e){console.log(e);var a=[];a.push(e),t.setState({localWeatherdata:a})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,s=this;return e=!0===this.state.hasloadedData?Object(n.jsxs)("h2",{style:{color:"lightsalmon"},children:["Location : ",this.state.userCity," , ",this.state.userState," , ",this.state.userCountry]}):Object(n.jsx)("h2",{children:"Loading..."}),t=!0===this.state.hasLoadedCoords?Object(n.jsxs)("h3",{children:["Coordinates: Lat: ",this.state.lat,", Long: ",this.state.long]}):Object(n.jsx)("h3",{children:"Loading..."}),!1===this.state.hasLoadedWeatherInfo&&!0===this.state.hasPressedButton&&(a=Object(n.jsx)("h4",{children:"Loading info..."})),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("img",{className:"logoimg",src:f}),Object(n.jsx)("center",{children:Object(n.jsx)("h1",{children:"Weather App"})}),Object(n.jsx)("h1",{style:{fontWeight:"bold",fontFamily:"sans-serif",color:"#3a7bd5"},className:"getweather",children:"Get the weather conditions for any city!"}),Object(n.jsx)("br",{}),e,this.state.localWeatherdata.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("center",{children:Object(n.jsxs)("h3",{children:[" Condition: ",e.weather[0].main]})}),Object(n.jsx)("center",{children:Object(n.jsxs)("h3",{children:["Temperature: ",Math.floor(e.main.temp-273.15),"\xb0C"]})}),Object(n.jsxs)("center",{children:[" ",Object(n.jsxs)("h3",{children:["Feels like: ",Math.floor(e.main.feels_like-273.15),"\xb0C"]})]}),Object(n.jsxs)("center",{children:[" ",Object(n.jsxs)("h3",{children:["Wind Speed: ",e.wind.speed]})]}),Object(n.jsx)("center",{children:t})]})})),Object(n.jsx)("input",{onChange:function(e){s.setState({cityName:e.target.value})},className:"input100",type:"text",name:"username",placeholder:"Enter any City Name to know its Weather Info!"}),Object(n.jsx)("br",{}),Object(n.jsx)("center",{children:Object(n.jsx)("div",{onClick:function(){s.apiCallforWeather(s.state.cityName.toLowerCase())},class:"button_cont",align:"center",children:Object(n.jsx)("a",{class:"example_a",rel:"nofollow noopener",children:"Get Weather"})})}),a,this.state.hasLoadedWeatherInfo&&Object(n.jsx)(b,{temp:this.state.temp,humidity:this.state.humidity,feelslike:Math.round(this.state.feelslike-273.15),windspeed:this.state.windspeed,condition:this.state.condition,clouds:this.state.clouds}),Object(n.jsx)("br",{}),Object(n.jsx)("h1",{style:{color:"lightpink"},children:"Souritra Kar 2020"}),Object(n.jsx)("h2",{style:{color:"mediumpurple"},children:"Uses: openweathermap.org API"})]})})}}]),a}(i.a.Component),x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root")),x()}},[[18,1,2]]]);
//# sourceMappingURL=main.78dd245b.chunk.js.map